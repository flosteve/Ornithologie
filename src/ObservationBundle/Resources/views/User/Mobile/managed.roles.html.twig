{% extends '@Observation/layout.mobile.html.twig' %}

{% block title %}Gestion des roles{% endblock %}

{% block content %}
    <div class="center-90">
        <h1>Gestion des autorisations pour {{ form.vars.data.username }}</h1>
        {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
        {{ form_errors(form) }}
        <div class="row">
            {{ form_label(form.roles, form.roles.vars.label, {'label_attr': {'class': 'col-sm-3'}}) }}
            <div class="col-xs-5">
                {{ form_widget(form.roles) }}
            </div>
            {{ form_errors(form.roles) }}
        </div>
        <div class="row">
            <div class="col-xs-6 col-xs-push-3">
                {{ form_widget(form.save) }}
            </div>
        </div>
        {{ form_rest(form) }}
    </div>
{% endblock %}


{% block javascript %}
    {{ parent() }}
    <script>
        $(document).ready(function () {
            var $admin = $("input[value='ROLE_ADMIN']");
            var $naturaliste = $("input[value='ROLE_NATURALISTE']");
            $admin.on('click', function () {
                if($admin.prop('checked') == true && $naturaliste.prop('checked') == false ){
                    $naturaliste.prop('checked', 'checked');
                    console.log('coucou')
                }else{
                    console.log('perdu')
                }
                console.log($naturaliste.attr('checked') )
                console.log($admin.prop('checked') )
            })
        })
    </script>
{% endblock %}