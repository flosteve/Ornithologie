{% extends '@Observation/layout.mobile.html.twig' %}


{% block title %}Inscription{% endblock %}

{% block content %}
    <div class="panel panel-default">
        <div class="panel-heading">
            <h1>
                Inscripiton
            </h1>
        </div>
        <div class="panel-body">
            <div>
                {#
                    Toggle switch
                #}
                <label >Connection </label>
                <label class="switch" for="choice">
                    <input type="checkbox"   id="choice">
                    <div class="slider round"></div>
                </label><label> Inscription</label>
            </div>
            <div id="login">
                {% if error %}
                    <div class="alert alert-danger">
                        {{ error.messageKey| trans(error.messageData, 'security') }}
                    </div>
                {% endif %}

                <form action="{{ path('user_login') }}" method="post">
                    <label for="username" class="control-label required">Pseudo ou Email </label>
                    <input type="text" name="_username" id="username" class="form-control">
                    <label for="password" class="control-label required">Mot de passe </label>
                    <input type="password" name="_password" id="password" class="form-control">
                    <label for="remember_me" class="control-label">Se souvenir de moi <input type="checkbox" name="_remember_me" id="remember_me"></label>

                    <div class="text-center">
                        <button type="submit" class="btn btn-xs btn-primary">Se connecter</button>
                    </div>
                </form>
            </div>
            <div id="registration" hidden>
                {{ form(form) }}
            </div>
        </div>
    </div>
    {{ form(form) }}
{% endblock %}

{% block javascript %}
    {{ parent() }}
    <script>
        $('#choice').click(function () {
            console.log($(this).is('checked'));
            changeState($('#login'));
            changeState($('#registration'));
        })

        function changeState(element){
            if(element.attr('hidden')){
                element.removeAttr('hidden');
            }else{
                element.attr('hidden', true);
            }
        }
    </script>
{% endblock %}