{% extends '@Observation/layout.desktop.html.twig' %}

{% block title %}{{ bird.nomVern }}{% endblock %}

{% block link %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/observation/css/list.observations.css') }}">
    <link rel="stylesheet" href="{{ asset('bundles/observation/css/bird.locations.css') }}">
{% endblock %}

{% block content %}
    <div class="center-80">
        <h1>{{ bird.nomVern }}
            <small>-{{ bird.lbNom }}</small>
        </h1>
        <hr>
        <div class="row">
            <div class="col-md-6 left ">
                <div id="location" data-href="{{ path('observation_locations', {'id': bird.id}) }}"></div>
            </div>
            <div class="col-md-6 right">
                <h2>Dernières observations</h2>
                <div id="observations" data-href="{{ path('observation_bird_page', {'id': bird.id, 'page': 1}) }}"
                     class="row">

                </div>
                <div class="content-loader">
                    <div class="loader"></div>
                </div>
            </div>
        </div>
        <div class="row">
            <a href="{{ path('bird_list') }}" class="col-sm-12 text-center">Retour à la liste</a>
        </div>
    </div>



    {% if bird.sound is not null %}
        <div hidden>
            <audio id="player" src="{{ asset(bird.sound.webPath) }}"></audio>
        </div>
    {% endif %}
{% endblock %}

{% block javascript %}
    {{ parent() }}
    <script src="{{ asset('bundles/observation/js/AJAX/bird.location.js') }}"></script>
    <script src="{{ asset('bundles/observation/js/play.bird.sound.js') }}"></script>
    <script src="{{ asset('bundles/observation/js/Maps/location.js') }}"></script>
    <script async defer
            src="https://maps.googleapis.com/maps/api/js?v=3&amp;key={{ google_api_key }}">
    </script>

{% endblock %}