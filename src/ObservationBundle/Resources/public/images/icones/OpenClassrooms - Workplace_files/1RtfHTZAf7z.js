if (self.CavalryLogger) { CavalryLogger.start_js(["eXnqk"]); }

__d('ReactComposerMarkdownActions',['ReactComposerDispatcher','ReactComposerMarkdownActionType','ReactComposerMarkdownStore'],(function a(b,c,d,e,f,g){'use strict';c('ReactComposerMarkdownStore');h.prototype.showIntercept=function(i){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerMarkdownActionType').SHOW_INTERCEPT});};h.prototype.hideIntercept=function(i){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerMarkdownActionType').HIDE_INTERCEPT});};h.prototype.enableMarkdown=function(i){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerMarkdownActionType').ENABLE_MARKDOWN});};h.prototype.disableMarkdown=function(i){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerMarkdownActionType').DISABLE_MARKDOWN});};function h(){}f.exports=new h();}),null);
__d('MarkdownInterceptDialogContainer.react',['cx','fbt','BanzaiODS','ReactComposerActions','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerMarkdownActions','ReactComposerMarkdownPreviewActions','ReactComposerMarkdownPreviewStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusStore','DOMContainer.react','LoadingIndicator.react','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').createClass({displayName:'MarkdownInterceptDialogContainer',mixins:[c('ReactComposerContextMixin'),c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerMarkdownPreviewStore'),c('ReactComposerStatusStore'))],propTypes:{config:c('ReactComposerConfig').isRequired},statics:{calculateState:function k(l,m){return {formattedMessage:c('ReactComposerMarkdownPreviewStore').getRenderedContent(l)};}},componentDidMount:function k(){this._log('shown');this._updateMarkdownPreview();},componentDidUpdate:function k(){setTimeout(function(){var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];if(l)l.markdownPreviewAttachment.prettify.init();}.bind(this),10);},componentWillReceiveProps:function k(){this._updateMarkdownPreview();},render:function k(){var l=void 0,m=void 0,n=void 0,o=void 0;if(this.state.formattedMessage===null){l=c('React').createElement(c('LoadingIndicator.react'),{size:'large',color:'white'});}else{m=c('React').createElement(c('XUIDialogTitle.react'),{showCloseButton:false},i._("Format With Markdown?"));n=c('React').createElement(c('XUIDialogBody.react'),null,i._("It looks like you're trying to format your post."),c('React').createElement('div',{className:"_44x7"},c('React').createElement(c('DOMContainer.react'),{className:"_3w8y"},this.state.formattedMessage)));o=c('React').createElement(c('XUIDialogFooter.react'),{leftContent:c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Close"),onClick:this._onCancel})},c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:i._("Use Original"),onClick:this._onDecline}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',use:'confirm',label:i._("Post With Markdown"),onClick:this._onAccept}));}return c('React').createElement(c('XUIDialog.react'),{shown:true,width:500,modal:true,layerHideOnBlur:false},l,m,n,o);},_updateMarkdownPreview:function k(){var l=c('ReactComposerStatusStore').getEditorState(this.context.composerID);if(l)c('ReactComposerMarkdownPreviewActions').updatePreview(this.context.composerID,this.context.targetID,l.getCurrentContent());},_log:function k(event){c('BanzaiODS').bumpEntityKey('markdown_intercept_dialog',event);},_onAccept:function k(){this._log('accept');c('ReactComposerMarkdownActions').enableMarkdown(this.context.composerID);this._post();},_onDecline:function k(){this._log('decline');c('ReactComposerMarkdownActions').disableMarkdown(this.context.composerID);this._post();},_onCancel:function k(){this._log('cancel');c('ReactComposerMarkdownActions').hideIntercept(this.context.composerID);},_post:function k(){c('ReactComposerActions').postStarted(this.context.composerID,{actorID:this.context.actorID,config:this.props.config,targetID:this.context.targetID});}});f.exports=j;}),null);