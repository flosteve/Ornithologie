if (self.CavalryLogger) { CavalryLogger.start_js(["gFQZt"]); }

__d('ScrubberMaintainAnchors',[],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$ScrubberMaintainAnchors1=i;}h.prototype.enable=function(){'use strict';this.$ScrubberMaintainAnchors2=this.$ScrubberMaintainAnchors1.subscribe('scrub',this.$ScrubberMaintainAnchors3.bind(this));};h.prototype.disable=function(){'use strict';this.$ScrubberMaintainAnchors2.unsubscribe();this.$ScrubberMaintainAnchors2=null;};h.prototype.$ScrubberMaintainAnchors3=function(i,j){'use strict';if(j){var k=j.getAttribute('data-target');if(k!=='')history.pushState(null,null,'#'+k);}};f.exports=h;}),null);
__d('CalendarUI',['csx','cx','Arbiter','AsyncRequest','CSS','DOM','DOMQuery','DOMScroll','Event','Hovercard','Parent','Run','ScrollAwareDOM','Style','UIPagelet','Vector','ViewportBounds','$','ge','isNode'],(function a(b,c,d,e,f,g,h,i){function j(){}Object.assign(j,{EVENT_ACTION:'EVENT_ACTION',_todayButton:null,_todayElement:null,_upPager:null,_months:[],_timestamp:null,initGridItem:function k(l,m){c('Event').listen(l,'click',function(event){if(c('Parent').byTag(event.getTarget(),'a'))return;c('AsyncRequest').bootstrap(m,l);return;});this.registerCreateEventHandlers(l);},pageUp:function k(){c('CSS').removeClass(this._upPager.parentNode,'fbCalendarNoPadding');c('CSS').addClass(this._upPager.parentNode,'pvl');if(this._upPager)this._upPager.click();},getScrollFunction:function k(l){var m=this;return function(event){var n=c('Parent').byClass(event.getTarget(),'fbCalendarBox'),o=m._months.indexOf(n);if(l&&o===0){m.pageUp();}else m.scrollTo(m._months[o+(l?-1:1)],true);};},registerArrowHandlers:function k(l,m){c('Event').listen(l,'click',this.getScrollFunction(true));c('Event').listen(m,'click',this.getScrollFunction(false));},registerCreateEventHandlers:function k(l){var m=c('DOMQuery').scry(l,".fbCalendarItemCreate"),n=c('DOMQuery').scry(l,"._43q7:last-child a");if(m.length>0){c('Event').listen(l,'focus',function(){c('CSS').removeClass(m[0],"accessible_elem");});if(n&&n.length>0)c('Event').listen(n[0],'blur',function(){c('CSS').addClass(m[0],'accessible_elem');});c('Event').listen(l,'mouseenter',function(){c('CSS').removeClass(m[0],'accessible_elem');});c('Event').listen(l,'mouseleave',function(){c('CSS').addClass(m[0],'accessible_elem');});}},initScrollItem:function k(l,m){c('Event').listen(l,'click',this.scrollTo.bind(this,m));},scrollTo:function k(l,m){l=c('isNode')(l)?l:c('ge')(l);var n=0,o=40;if(l){var p=c('Vector').getElementPosition(c('$')('fbCalendarWrapper')).y,q;if(document.getElementById('headerArea')){q=c('Vector').getElementDimensions(c('$')('headerArea')).y;}else{q=0;o=12;}var r=c('Vector').getElementPosition(l).y;n=r-p-q+o;}else n=c('Vector').getElementPosition(c('$')('bottomContent')).y;c('DOMScroll').scrollTo(new (c('Vector'))(0,n,'document'),m!==false);},clickItem:function k(l){l.click();},initUnhide:function k(l,m){c('Event').listen(l,'click',function(event){var n=c('Parent').byClass(m,'fbCalendarItem');c('DOM').remove(m);c('CSS').removeClass(c('DOM').find(n,'.fbHiddenCalendarItem'),'fbHiddenCalendarItem');});},registerMonth:function k(l,m){if(!this._timestamp||m>this._timestamp){this._months.push(l);}else this._months.unshift(l);this._timestamp=m;},registerTodayClickHandler:function k(){this._todayButton.onclick=null;c('Event').listen(this._todayButton,'click',this.scrollTo.bind(this,this._todayElement));},registerUpPagerButton:function k(l){var m=c('isNode')(l)?l:c('ge')(l);c('CSS').removeClass(m,'pvl');c('CSS').removeClass(m,'hidden_elem');c('CSS').addClass(m,'fbCalendarNoPadding');if(m){this._upPager=c('$')(m.getElementsByTagName('a')[0]);}else this._upPager=null;},registerTodayElement:function k(l){this._todayElement=c('isNode')(l)?l:c('ge')(l);this._todayButton&&this.registerTodayClickHandler();},registerTodayButton:function k(l){this._todayButton=l;this._todayElement&&this.registerTodayClickHandler();},registerEventLink:function k(l,m){c('Arbiter').subscribe(this.EVENT_ACTION,function(n,o){if(o.eid===m)switch(o.action){case 'GOING':c('CSS').removeClass(l.parentNode,"hidden_elem");c('CSS').addClass(l,"fbCalendarEventGoing");break;case 'MAYBE':c('CSS').removeClass(l.parentNode,"hidden_elem");c('CSS').removeClass(l,"fbCalendarEventGoing");break;case 'DECLINED':case 'HIDDEN':c('Hovercard').hide(true);c('CSS').addClass(l.parentNode,"hidden_elem");break;case 'EDITED':if(o.name)c('DOM').setContent(l,o.name);if(o.day){var p=c('ge')("pagelet_calendar_day_"+o.day);if(p){var q=c('DOMQuery').find(p,".fbCalendarGridEventList");if(c('DOMQuery').scry(q,"li").length>=4){c('CSS').addClass(l.parentNode,"hidden_elem");c('UIPagelet').loadFromEndpoint("CalendarDayPagelet","pagelet_calendar_day_"+o.day,{day:o.timestamp});}else c('DOM').prependContent(q,l.parentNode);}else c('CSS').addClass(l.parentNode,"hidden_elem");}break;}});},informEventGoing:function k(l,m){c('Arbiter').inform(this.EVENT_ACTION,{eid:l,action:'GOING',actioncontext:m});},informEventMaybe:function k(l,m){c('Arbiter').inform(this.EVENT_ACTION,{eid:l,action:'MAYBE',actioncontext:m});},informEventDeclined:function k(l,m){c('Arbiter').inform(this.EVENT_ACTION,{eid:l,action:'DECLINED',actioncontext:m});},informEventHidden:function k(l,m){c('Arbiter').inform(this.EVENT_ACTION,{eid:l,action:'HIDDEN',actioncontext:m});},informEventEdited:function k(l,m,n,o){c('Arbiter').inform(this.EVENT_ACTION,{eid:l,action:'EDITED',name:m,day:n,timestamp:o});},removeCalendarListHeader:function k(l){var m=c('DOM').scry(l,"^.fbCalendarOverlay .fbCalendarItem"),n=c('DOM').find(l,"^.fbCalendarItem");if(m.length==1)n=c('DOM').find(l,"^.fbCalendarOverlay");c('DOM').remove(n);},unhide:function k(l){setTimeout(function(){c('ScrollAwareDOM').monitor(l.nextSibling,c('CSS').show.bind(null,l));},0);}});f.exports=j;}),null);