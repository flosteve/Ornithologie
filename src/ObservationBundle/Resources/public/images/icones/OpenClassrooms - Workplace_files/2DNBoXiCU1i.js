if (self.CavalryLogger) { CavalryLogger.start_js(["uzNTc"]); }

__d('CalendarDayBox',['Event','Arbiter','AsyncRequest','DOM'],(function a(b,c,d,e,f,g){function h(){}Object.assign(h,{subscriptions:[],photoInAction:false,closeLock:false,reset:function i(){if(this.subscriptions.length)this.subscriptions.forEach(function(j){j.unsubscribe();});this.subscriptions=[];this.photoInAction=false;this.closeLock=false;},initKeydownEvents:function i(j,k){c('Event').listen(document,'keydown',function(event){var l=null;if(c('DOM').isNodeOfType(event.getTarget(),['input','select','textarea'])){l=null;}else if(event.keyCode===37){l=j;}else if(event.keyCode===39)l=k;if(l)c('AsyncRequest').bootstrap(l,null);});},init:function i(j){this.reset();this.subscriptions=[c('Arbiter').subscribe('PhotoSnowlift.OPEN',this.setPhotoAction.bind(this,true)),c('Arbiter').subscribe('PhotoSnowlift.CLOSE',this.setPhotoAction.bind(this,false))];j.subscribe('beforehide',function(){if(this.getPhotoAction())return false;this.reset();}.bind(this));},setPhotoAction:function i(j){this.photoInAction=true;this.closeLock=j;},getPhotoAction:function i(){var j=this.photoInAction;if(!this.closeLock)this.photoInAction=false;return j;}});f.exports=h;}),null);