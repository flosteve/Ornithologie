if (self.CavalryLogger) { CavalryLogger.start_js(["R6Jry"]); }

__d('ReactComposerMarkdownToggleController.react',['ReactComposerContextMixin','ReactComposerEvents','ReactComposerLoggingName','ReactComposerTaggerActions','ReactComposerTaggerStore','Arbiter','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerMarkdownToggleController',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{taggerID:h.string.isRequired,loggingName:h.oneOf(Object.values(c('ReactComposerLoggingName'))).isRequired},render:function j(){return c('React').createElement('span',{onClick:this._onSelect,role:'presentation'},this.props.children);},_onSelect:function j(){var k=c('ReactComposerTaggerStore').hasData(this.context.composerID,this.props.taggerID);c('ReactComposerTaggerActions').setTaggerData(this.context.composerID,this.props.loggingName,this.props.taggerID,k?null:{isMarkdown:true});c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.context.composerID);}});f.exports=i;}),null);
__d('ReactComposerMarkdownSproutContainer.react',['fbt','ReactComposerMarkdownToggleController.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerSproutItem.react','ReactComposerSproutUIConfig','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','AsyncRequest','ReactComponentWithPureRenderMixin','React','XBasicFBNuxDismissController','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h){'use strict';var i=4842,j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerMarkdownSproutContainer',mixins:[c('ReactComposerPropsAndStoreBasedStateMixin')(c('ReactComposerTaggerStore')),c('ReactComponentWithPureRenderMixin')],propTypes:{uiConfig:c('ReactComposerSproutUIConfig').isRequired},statics:{calculateState:function l(m,n){return {highlighted:c('ReactComposerTaggerStore').hasData(m,c('ReactComposerTaggerType').MARKDOWN),showNUX:c('ReactComposerTaggerStore').shouldShowNUX(m,c('ReactComposerTaggerType').MARKDOWN)};}},render:function l(){return c('React').createElement(c('ReactComposerMarkdownToggleController.react'),babelHelpers['extends']({},this.props,{taggerID:c('ReactComposerTaggerType').MARKDOWN,loggingName:this.props.uiConfig.loggingName}),c('React').createElement(c('ReactComposerSproutItem.react'),{uiConfig:this.props.uiConfig,highlighted:this.state.highlighted,ref:'fbReactComposerMarkdownSproutTaggerButton'}),this.getNUX&&this.getNUX());},getNUX:function l(){if(!this.state.showNUX)return null;return c('React').createElement(c('XUIAmbientNUX.react'),{alignment:'center',contextRef:function(){return this.refs.fbReactComposerMarkdownSproutTaggerButton;}.bind(this),position:'below',offsetX:50,offsetY:45,shown:true,onCloseButtonClick:this._hideNUX},h._("New! Create a post format with markdown"));},_hideNUX:function l(){c('ReactComposerTaggerActions').handleSetTaggerShowNUX(this.context.composerID,c('ReactComposerTaggerType').MARKDOWN,false);var m=c('XBasicFBNuxDismissController').getURIBuilder().setInt('nux_id',i).getURI();new (c('AsyncRequest'))().setURI(m).send();}});f.exports=k;}),null);