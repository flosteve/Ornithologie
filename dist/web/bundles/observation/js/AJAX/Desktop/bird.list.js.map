{
  "version": 3,
  "sources": [
    "../../../../../../../web/bundles/observation/js/AJAX/Desktop/bird.list.js"
  ],
  "names": [
    "$",
    "document",
    "ready",
    "change",
    "val",
    "page",
    "ajax",
    "url",
    "data",
    "dataType",
    "success",
    "code_html",
    "status",
    "on",
    "event",
    "preventDefault",
    "prepareRequete",
    "replace",
    "parameters",
    "option",
    "urlType",
    "attr",
    "empty",
    "isSearch",
    "removeAttr",
    "console",
    "log",
    "append",
    "numbers",
    "Number",
    "length",
    "remove",
    "window",
    "location",
    "scroll",
    "height",
    "scrollTop",
    "css"
  ],
  "mappings": "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",
  "file": "bird.list.js",
  "sourcesContent": [
    "// Requetes AJAX sur la pagination et recherche des oiseaux\n// Appeller dans la vue Bird/Desktop/list.html.twig\n$(document).ready(function () {\n\n\n    $('#type').change(function () {\n        $('#search').val('');\n\n    });\n\n    // Création de la variable page\n    var page = 1\n    // Première requete ajax lors du chargement de la page\n    $.ajax({\n        url: $('#birds').data('href'),\n        dataType: 'html',\n        success: function (code_html, status) {\n            success(code_html)\n        }\n    })\n\n    // Requte Ajax lors du click sur le bouton add\n    $('#add-birds').on('click', function (event) {\n        event.preventDefault();\n        prepareRequete(false);\n        var url = $('#add-birds').data('href').replace(\"1\", page);\n        var parameters = $('#search').val() === '' ? '' : '?search=' + $('#search').val();\n        $.ajax({\n            url: url + parameters,\n            dataType: 'html',\n            success: function (code_html, status) {\n                success(code_html)\n            }\n        })\n    })\n    // Requete ajax lors d'une recherche\n    $('#search').on('keyup', function (event) {\n        prepareRequete(true);\n\n        let option = $('#type').val();\n        let urlType = $('#search').attr('data-href').replace('bec', option);\n\n        var url = urlType + '?search=' + $(this).val();\n        // var url = $(this).data('href') + '?search=' + $(this).val();\n         $.ajax({\n            url: url,\n            dataType: 'html',\n            success: function (code_html, status) {\n                $('#birds').empty()\n                success(code_html)\n            }\n        })\n    })\n\n    // Fonction préparant la zone d'affichage\n    function prepareRequete(isSearch) {\n        // On affiche le loader\n        $('.loader').removeAttr('hidden');\n        // S'il s'agit d'une recherche on vide le contenue de contentBirds et on met page à 1\n        if(isSearch){\n            console.log('coucou')\n            $('#birds').empty();\n            page =1\n        }\n    }\n\n    // Fonction utiliser lors du success d'une requete\n    function success(code_html){\n        // on cache le loader\n        $('.loader').attr('hidden', true)\n        // On inserre le resultat dans la zone contentBirds\n        $('#birds').append(code_html)\n        // On récuperer la taille du resultat\n        var numbers = Number($('.length').data('length'));\n        // On comparse celui-ci à 20 et aux nombres d'oiseaux affiché s'ils correspondent celà signifie qu'il n'y a pas d'autres pages\n        if(numbers <= 20 || numbers == $('.bird').length ){\n            // On cache donc le bouton add\n            $('#add-birds').attr('hidden', true);\n        }else{\n            // Sinon on l'affiche\n            $('#add-birds').removeAttr('hidden');\n        }\n        // On supprime le div comptenant la taille du resultat pour évité les doublons\n        $('.length').remove();\n\n        // On incrimente la page pour le prochain add\n        page++;\n    }\n    // listener sur les div des oiseaux pour généreer un ien au click\n    $(document).on('click', '.bird', function (event) {\n        window.document.location = $(this).data('href');\n    })\n\n\n    $(window).scroll(function () {\n\n        // On vérifie si le document fait au moins 2 fois la taille de l'ecran et si le haut du scroll est superieur à la taille de l'écran\n        if (($(window).height() * 1.5 ) < $(document).height() && $(window).scrollTop() > $(window).height()) {\n            // Dans ce cas on affiche le bouton up\n            $('#up').css('display', 'inline');\n        }else {\n            // Sinon on le cache\n            $('#up').css('display', 'none');\n        }\n    })\n    $('#up-button').on('click', function(){\n        // Si on clique sur le bouton up, on reviens tout en haut du document\n        $(window).scrollTop(0);\n    })\n})\n"
  ]
}