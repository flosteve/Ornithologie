{
  "version": 3,
  "sources": [
    "../../../../../../../web/bundles/observation/js/AJAX/Desktop/bird.list.js"
  ],
  "names": [
    "$",
    "document",
    "ready",
    "page",
    "ajax",
    "url",
    "data",
    "dataType",
    "success",
    "code_html",
    "status",
    "on",
    "event",
    "preventDefault",
    "prepareRequete",
    "replace",
    "parameters",
    "val",
    "empty",
    "isSearch",
    "removeAttr",
    "console",
    "log",
    "attr",
    "append",
    "numbers",
    "Number",
    "length",
    "remove",
    "window",
    "location",
    "scroll",
    "height",
    "scrollTop",
    "css"
  ],
  "mappings": "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",
  "file": "bird.list.js",
  "sourcesContent": [
    "// Requetes AJAX sur la pagination et recherche des oiseaux\n// Appeller dans la vue Bird/Desktop/list.html.twig\n$(document).ready(function () {\n    // Création de la variable page\n    var page = 1\n    // Première requete ajax lors du chargement de la page\n    $.ajax({\n        url: $('#birds').data('href'),\n        dataType: 'html',\n        success: function (code_html, status) {\n            success(code_html)\n        }\n    })\n\n    // Requte Ajax lors du click sur le bouton add\n    $('#add-birds').on('click', function (event) {\n        event.preventDefault();\n        prepareRequete(false);\n        var url = $('#add-birds').data('href').replace(\"1\", page);\n        var parameters = $('#search').val() === '' ? '' : '?search=' + $('#search').val();\n        $.ajax({\n            url: url + parameters,\n            dataType: 'html',\n            success: function (code_html, status) {\n                success(code_html)\n            }\n        })\n    })\n    // Requete ajax lors d'une recherche\n    $('#search').on('keyup', function (event) {\n        prepareRequete(true);\n        var url = $(this).data('href') + '?search=' + $(this).val();\n         $.ajax({\n            url: url,\n            dataType: 'html',\n            success: function (code_html, status) {\n                $('#birds').empty()\n                success(code_html)\n            }\n        })\n    })\n\n    // Fonction préparant la zone d'affichage\n    function prepareRequete(isSearch) {\n        // On affiche le loader\n        $('.loader').removeAttr('hidden');\n        // S'il s'agit d'une recherche on vide le contenue de contentBirds et on met page à 1\n        if(isSearch){\n            console.log('coucou')\n            $('#birds').empty();\n            page =1\n        }\n    }\n\n    // Fonction utiliser lors du success d'une requete\n    function success(code_html){\n        // on cache le loader\n        $('.loader').attr('hidden', true)\n        // On inserre le resultat dans la zone contentBirds\n        $('#birds').append(code_html)\n        // On récuperer la taille du resultat\n        var numbers = Number($('.length').data('length'));\n        // On comparse celui-ci à 20 et aux nombres d'oiseaux affiché s'ils correspondent celà signifie qu'il n'y a pas d'autres pages\n        if(numbers <= 20 || numbers == $('.bird').length ){\n            // On cache donc le bouton add\n            $('#add-birds').attr('hidden', true);\n        }else{\n            // Sinon on l'affiche\n            $('#add-birds').removeAttr('hidden');\n        }\n        // On supprime le div comptenant la taille du resultat pour évité les doublons\n        $('.length').remove();\n\n        // On incrimente la page pour le prochain add\n        page++;\n    }\n    // listener sur les div des oiseaux pour généreer un ien au click\n    $(document).on('click', '.bird', function (event) {\n        window.document.location = $(this).data('href');\n    })\n\n\n    $(window).scroll(function () {\n\n        // On vérifie si le document fait 2 fois la taille de l'ecran et si le haut du scroll est superieur à 2 fois la taille de l'écran\n        if(($(window).height() * 2) < $(document).height() && $(window).scrollTop() > ($(window).height() *2) ){\n            // Dans ce cas on affiche le bouton up\n            $('#up').css('display', 'inline');\n        }else {\n            // Sinon on le cache\n            $('#up').css('display', 'none');\n        }\n    })\n    $('#up-button').on('click', function(){\n        // Si on clique sur le bouton up, on reviens tout en haut du document\n        $(window).scrollTop(0);\n    })\n})\n"
  ]
}