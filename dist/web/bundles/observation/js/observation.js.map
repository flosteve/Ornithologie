{"version":3,"sources":["../../../../../web/bundles/observation/js/observation.js"],"names":["$","document","ready","select2","removeClass","datepicker","format","minDate","Date","on","getElementById","required","imgURL1","img1","imgURL2","img2","div","click","val","remove","onchange","file","target","files","URL","createObjectURL","createElement","id","className","style","width","marginRight","src","appendChild"],"mappings":";;AAAAA,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAY;;AAE1BF,MAAE,uBAAF,EAA2BG,OAA3B;AACAH,MAAE,QAAF,EAAYI,WAAZ,CAAwB,2BAAxB;;AAEA;AACAJ,MAAE,aAAF,EAAiBK,UAAjB,CAA4B;AACxBC,gBAAQ,YADgB;AAExBC,iBAAS;AAFe,KAA5B;AAIAP,MAAE,aAAF,EAAiBK,UAAjB,CAA4B,SAA5B,EAAuC,IAAIG,IAAJ,EAAvC;AACAR,MAAE,aAAF,EAAiBK,UAAjB,GAA8BI,EAA9B,CAAiC,YAAjC,EAA+C,YAAY;AACvDT,UAAE,aAAF,EAAiBK,UAAjB,CAA4B,MAA5B;AAEH,KAHD;AAIH,CAfD;;AAiBAJ,SAASS,cAAT,CAAwB,mCAAxB,EAA6DC,QAA7D,GAAwE,KAAxE;AACAV,SAASS,cAAT,CAAwB,oCAAxB,EAA8DC,QAA9D,GAAyE,KAAzE;;AAEA,IAAIV,SAASS,cAAT,CAAwB,SAAxB,CAAJ,EAAwC;AACpCT,aAASS,cAAT,CAAwB,sBAAxB,EAAgDC,QAAhD,GAA2D,KAA3D;AACH;;AAGD;AACA,IAAIC,OAAJ,EACIC,IADJ,EAEIC,OAFJ,EAGIC,IAHJ;AAIA,IAAIC,MAAMf,SAASS,cAAT,CAAwB,SAAxB,CAAV;;AAEA;AACAV,EAAE,WAAF,EAAeiB,KAAf,CAAqB,YAAY;AAC7BjB,MAAE,wBAAF,EAA4BkB,GAA5B,CAAgC,EAAhC;;AAEA,QAAIL,QAAQE,IAAZ,EAAkB;;AAEdF,aAAKM,MAAL;AACAJ,aAAKI,MAAL;AAEH,KALD,MAKO;AACH,YAAIN,IAAJ,EAAU;;AAENA,iBAAKM,MAAL;AAEH,SAJD,MAIO,IAAIJ,IAAJ,EAAU;;AAEbA,iBAAKI,MAAL;AACH;AACJ;AACJ,CAlBD;;AAoBA;AACAlB,SAASS,cAAT,CAAwB,uBAAxB,EAAiDU,QAAjD,GAA4D,UAAUC,IAAV,EAAgB;;AAExE;AACA,QAAIR,QAAQE,IAAZ,EAAkB;;AAEdF,aAAKM,MAAL;AACAJ,aAAKI,MAAL;AAEH,KALD,MAKO;AACH,YAAIN,IAAJ,EAAU;;AAENA,iBAAKM,MAAL;AAEH,SAJD,MAIO,IAAIJ,IAAJ,EAAU;AACbA,iBAAKI,MAAL;AACH;AACJ;;AAED;AACA,QAAKE,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAD,IAA2BF,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAA/B,EAAsD;;AAElDX,kBAAUY,IAAIC,eAAJ,CAAoBJ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAApB,CAAV;AACAV,eAAOZ,SAASyB,aAAT,CAAuB,KAAvB,CAAP;AACAb,aAAKc,EAAL,GAAU,UAAV;AACAd,aAAKe,SAAL,GAAiB,eAAjB;AACAf,aAAKgB,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACAjB,aAAKgB,KAAL,CAAWE,WAAX,GAAyB,MAAzB;AACAlB,aAAKmB,GAAL,GAAWpB,OAAX;;AAEAE,kBAAUU,IAAIC,eAAJ,CAAoBJ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAApB,CAAV;AACAR,eAAOd,SAASyB,aAAT,CAAuB,KAAvB,CAAP;AACAX,aAAKY,EAAL,GAAU,UAAV;AACAZ,aAAKa,SAAL,GAAiB,eAAjB;AACAb,aAAKc,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACAf,aAAKc,KAAL,CAAWE,WAAX,GAAyB,MAAzB;AACAhB,aAAKiB,GAAL,GAAWlB,OAAX;;AAEAE,YAAIiB,WAAJ,CAAgBpB,IAAhB;AACAG,YAAIiB,WAAJ,CAAgBlB,IAAhB;AAEH,KArBD,MAqBO;;AAEH,YAAIM,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAJ,EAA0B;;AAEtBX,sBAAUY,IAAIC,eAAJ,CAAoBJ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAApB,CAAV;AACAV,mBAAOZ,SAASyB,aAAT,CAAuB,KAAvB,CAAP;AACAb,iBAAKc,EAAL,GAAU,UAAV;AACAd,iBAAKe,SAAL,GAAiB,eAAjB;AACAf,iBAAKgB,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACAjB,iBAAKgB,KAAL,CAAWE,WAAX,GAAyB,MAAzB;AACAlB,iBAAKmB,GAAL,GAAWpB,OAAX;;AAEAI,gBAAIiB,WAAJ,CAAgBpB,IAAhB;AAEH,SAZD,MAYO,IAAIQ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAJ,EAA0B;;AAE7BT,sBAAUU,IAAIC,eAAJ,CAAoBJ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAApB,CAAV;AACAR,mBAAOd,SAASyB,aAAT,CAAuB,KAAvB,CAAP;AACAX,iBAAKY,EAAL,GAAU,UAAV;AACAZ,iBAAKa,SAAL,GAAiB,eAAjB;AACAb,iBAAKc,KAAL,CAAWC,KAAX,GAAmB,OAAnB;AACAf,iBAAKc,KAAL,CAAWE,WAAX,GAAyB,MAAzB;AACAhB,iBAAKiB,GAAL,GAAWlB,OAAX;;AAEAE,gBAAIiB,WAAJ,CAAgBlB,IAAhB;AACH;AACJ;AACJ,CAnED","file":"observation.js","sourcesContent":["$(document).ready(function () {\n\n    $('#add_observation_bird').select2();\n    $(\"select\").removeClass(\"select2-hidden-accessible\");\n\n    //Formatage du datepicker\n    $('#datepicker').datepicker({\n        format: 'dd-mm-yyyy',\n        minDate: 0\n    });\n    $('#datepicker').datepicker(\"setDate\", new Date());\n    $('#datepicker').datepicker().on('changeDate', function () {\n        $('#datepicker').datepicker('hide');\n\n    });\n});\n\ndocument.getElementById(\"add_observation_location_latitude\").required = false;\ndocument.getElementById(\"add_observation_location_longitude\").required = false;\n\nif (document.getElementById('getBird')) {\n    document.getElementById(\"add_observation_bird\").required = false;\n}\n\n\n//Formatage de l'upload de photo\nvar imgURL1,\n    img1,\n    imgURL2,\n    img2;\nvar div = document.getElementById(\"picBird\");\n\n//Reset de l'upload des photos\n$(\"#closePic\").click(function () {\n    $('#add_observation_files').val(\"\");\n\n    if (img1 && img2) {\n\n        img1.remove();\n        img2.remove();\n\n    } else {\n        if (img1) {\n\n            img1.remove();\n\n        } else if (img2) {\n\n            img2.remove();\n        }\n    }\n});\n\n//Recupération de(s )l'image(s)\ndocument.getElementById(\"add_observation_files\").onchange = function (file) {\n\n    //On remove les photos existantes\n    if (img1 && img2) {\n\n        img1.remove();\n        img2.remove();\n\n    } else {\n        if (img1) {\n\n            img1.remove();\n\n        } else if (img2) {\n            img2.remove();\n        }\n    }\n\n    //On insére les nouvelles photos\n    if ((file.target.files[0]) && (file.target.files[1])) {\n\n        imgURL1 = URL.createObjectURL(file.target.files[0])\n        img1 = document.createElement('img');\n        img1.id = \"testImg1\";\n        img1.className = \"img-thumbnail\";\n        img1.style.width = '200px';\n        img1.style.marginRight = '10px'\n        img1.src = imgURL1;\n\n        imgURL2 = URL.createObjectURL(file.target.files[1])\n        img2 = document.createElement('img');\n        img2.id = \"testImg2\";\n        img2.className = \"img-thumbnail\";\n        img2.style.width = '200px';\n        img2.style.marginRight = '10px';\n        img2.src = imgURL2;\n\n        div.appendChild(img1)\n        div.appendChild(img2)\n\n    } else {\n\n        if (file.target.files[0]) {\n\n            imgURL1 = URL.createObjectURL(file.target.files[0]);\n            img1 = document.createElement('img');\n            img1.id = \"testImg1\";\n            img1.className = \"img-thumbnail\";\n            img1.style.width = '200px';\n            img1.style.marginRight = '10px';\n            img1.src = imgURL1;\n\n            div.appendChild(img1)\n\n        } else if (file.target.files[1]) {\n\n            imgURL2 = URL.createObjectURL(file.target.files[1]);\n            img2 = document.createElement('img');\n            img2.id = \"testImg2\";\n            img2.className = \"img-thumbnail\";\n            img2.style.width = '200px';\n            img2.style.marginRight = '10px';\n            img2.src = imgURL2;\n\n            div.appendChild(img2)\n        }\n    }\n}"]}