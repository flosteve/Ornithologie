{"version":3,"sources":["../../../../../../src/ObservationBundle/Resources/public/js/observation.js"],"names":["$","document","ready","select2","hide","datepicker","regional","altField","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","dateFormat","firstDay","isRTL","showMonthAfterYear","yearSuffix","minDate","maxDate","numberOfMonths","showButtonPanel","setDefaults","format","on","getElementById","required","imgURL1","img1","imgURL2","img2","idPicture","div","length","text","attr","click","val","removePicture","console","log","selectPicture","onchange","file","target","files","URL","createObjectURL","createElement","id","src","appendChild","remove"],"mappings":";;AAAAA,EAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAY;;AAE1B;AACAF,MAAE,uBAAF,EAA2BG,OAA3B,GAAqCC,IAArC;AACAJ,MAAE,uBAAF,EAA2BI,IAA3B;;AAEA;AACAJ,MAAEK,UAAF,CAAaC,QAAb,CAAsB,IAAtB,IAA8B;AAC1BC,kBAAU,aADgB;AAE1BC,mBAAW,QAFe;AAG1BC,kBAAU,YAHgB;AAI1BC,kBAAU,YAJgB;AAK1BC,qBAAa,cALa;AAM1BC,oBAAY,CAAC,SAAD,EAAY,SAAZ,EAAuB,MAAvB,EAA+B,OAA/B,EAAwC,KAAxC,EAA+C,MAA/C,EACR,SADQ,EACG,MADH,EACW,WADX,EACwB,SADxB,EACmC,UADnC,EAC+C,UAD/C,CANc;AAQ1BC,yBAAiB,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EACb,KADa,EACN,KADM,EACC,KADD,EACQ,KADR,EACe,KADf,EACsB,KADtB,CARS;AAU1BC,kBAAU,CAAC,UAAD,EAAa,OAAb,EAAsB,OAAtB,EAA+B,UAA/B,EAA2C,OAA3C,EAAoD,UAApD,EAAgE,QAAhE,CAVgB;AAW1BC,uBAAe,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CAXW;AAY1BC,qBAAa,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,CAZa;AAa1BC,oBAAY,IAbc;AAc1BC,oBAAY,UAdc;AAe1BC,kBAAU,CAfgB;AAgB1BC,eAAO,KAhBmB;AAiB1BC,4BAAoB,KAjBM;AAkB1BC,oBAAY,EAlBc;AAmB1BC,iBAAS,CAnBiB;AAoB1BC,iBAAS,UApBiB;AAqB1BC,wBAAgB,CArBU;AAsB1BC,yBAAiB;AAtBS,KAA9B;AAwBA1B,MAAEK,UAAF,CAAasB,WAAb,CAAyB3B,EAAEK,UAAF,CAAaC,QAAb,CAAsB,IAAtB,CAAzB;AACA;AACAN,MAAE,aAAF,EAAiBK,UAAjB,CAA4B;AACxBuB,gBAAQ;AADgB,KAA5B;;AAIA5B,MAAE,aAAF,EAAiBK,UAAjB,GAA8BwB,EAA9B,CAAiC,YAAjC,EAA+C,YAAY;AACvD7B,UAAE,aAAF,EAAiBK,UAAjB,CAA4B,MAA5B;AAEH,KAHD;;AAOJ;AACAJ,aAAS6B,cAAT,CAAwB,mCAAxB,EAA6DC,QAA7D,GAAwE,KAAxE;AACA9B,aAAS6B,cAAT,CAAwB,oCAAxB,EAA8DC,QAA9D,GAAyE,KAAzE;;AAEA,QAAIC,gBAAJ;AAAA,QACIC,aADJ;AAAA,QAEIC,gBAFJ;AAAA,QAGIC,aAHJ;AAAA,QAIIC,kBAJJ;;AAMA,QAAIC,MAAMpC,SAAS6B,cAAT,CAAwB,SAAxB,CAAV;;AAEI,QAAI9B,EAAE,6BAAF,EAAiCsC,MAArC,EAA6C;AACzCtC,UAAE,2CAAF,EAA+CuC,IAA/C,CAAoD,mBAApD;AACAvC,UAAE,kCAAF,EAAsCwC,IAAtC,CAA2C,SAA3C,EAAsD,IAAtD;AACH;;AAEL;AACIxC,MAAE,QAAF,EAAYyC,KAAZ,CAAkB,YAAY;AAC9BzC,UAAE,WAAF,EAAewC,IAAf,CAAoB,QAApB,EAA8B,IAA9B;AACIxC,UAAE,6BAAF,EAAiC0C,GAAjC,CAAqC,EAArC;AACA1C,UAAE,6BAAF,EAAiC0C,GAAjC,CAAqC,EAArC;;AAGAC;AACP,KAPG;;AASA,QAAI3C,EAAE,UAAF,EAAcwC,IAAd,CAAmB,QAAnB,MAAiC,QAArC,EAA+C;;AAE3CvC,iBAAS6B,cAAT,CAAwB,sBAAxB,EAAgDC,QAAhD,GAA2D,KAA3D;AAEH;AACD;;AAGJ;AACI/B,MAAE,uCAAF,EAA2CyC,KAA3C,CAAiD,YAAY;AACzD;AACAL,oBAAY,4BAAZ;AACAQ,gBAAQC,GAAR,CAAYT,SAAZ;;AAEAU,sBAAcV,SAAd;AACH,KAND;;AAQApC,MAAE,uCAAF,EAA2CyC,KAA3C,CAAiD,YAAY;AACzD;AACAL,oBAAY,4BAAZ;AACAQ,gBAAQC,GAAR,CAAYT,SAAZ;;AAEAU,sBAAcV,SAAd;AACH,KAND;;AASJ;AACI,aAASU,aAAT,CAAuBV,SAAvB,EAAkC;;AAE9BnC,iBAAS6B,cAAT,CAAwBM,SAAxB,EAAmCW,QAAnC,GAA8C,UAAUC,IAAV,EAAgB;AAC1D;AACAL;;AAEA;AACA;AACA,gBAAKK,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAD,IAA2BF,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAA/B,EAAsD;;AAElDlB,0BAAUmB,IAAIC,eAAJ,CAAoBJ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAApB,CAAV;AACAjB,uBAAOhC,SAASoD,aAAT,CAAuB,KAAvB,CAAP;AACApB,qBAAKqB,EAAL,GAAU,UAAV;AACArB,qBAAKsB,GAAL,GAAWvB,OAAX;;AAEAE,0BAAUiB,IAAIC,eAAJ,CAAoBJ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAApB,CAAV;AACAf,uBAAOlC,SAASoD,aAAT,CAAuB,KAAvB,CAAP;AACAlB,qBAAKmB,EAAL,GAAU,UAAV;AACAnB,qBAAKoB,GAAL,GAAWrB,OAAX;;AAEAG,oBAAImB,WAAJ,CAAgBvB,IAAhB;AACAI,oBAAImB,WAAJ,CAAgBrB,IAAhB;AAEH;AACD;AAhBA,iBAiBK;AACD,wBAAIa,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAJ,EAA0B;;AAEtBlB,kCAAUmB,IAAIC,eAAJ,CAAoBJ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAApB,CAAV;AACAjB,+BAAOhC,SAASoD,aAAT,CAAuB,KAAvB,CAAP;AACApB,6BAAKqB,EAAL,GAAU,UAAV;AACA;AACA;AACA;AACArB,6BAAKsB,GAAL,GAAWvB,OAAX;;AAEAK,4BAAImB,WAAJ,CAAgBvB,IAAhB;AAEH,qBAZD,MAaK,IAAIe,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAAJ,EAA0B;;AAE3BhB,kCAAUiB,IAAIC,eAAJ,CAAoBJ,KAAKC,MAAL,CAAYC,KAAZ,CAAkB,CAAlB,CAApB,CAAV;AACAf,+BAAOlC,SAASoD,aAAT,CAAuB,KAAvB,CAAP;AACAlB,6BAAKmB,EAAL,GAAU,UAAV;AACA;AACA;AACA;AACAnB,6BAAKoB,GAAL,GAAWrB,OAAX;;AAEAG,4BAAImB,WAAJ,CAAgBrB,IAAhB;AACH;AACJ;;AAEDnC,cAAE,WAAF,EAAewC,IAAf,CAAoB,QAApB,EAA8B,KAA9B;AACH,SApDD;AAqDH;;AAED;AACA,aAASG,aAAT,GAAyB;AACrB,YAAIV,QAAQE,IAAZ,EAAkB;;AAEdF,iBAAKwB,MAAL;AACAtB,iBAAKsB,MAAL;AAEH,SALD,MAMK;AACD,gBAAIxB,IAAJ,EAAU;;AAENA,qBAAKwB,MAAL;AAEH,aAJD,MAKK,IAAItB,IAAJ,EAAU;AACXA,qBAAKsB,MAAL;AACH;AACJ;AACJ;AACJ,CA9KD","file":"observation.js","sourcesContent":["$(document).ready(function () {\n\n    //Selecteur avec champ de saisie\n    $('#add_observation_bird').select2().hide;\n    $('#add_observation_bird').hide();\n\n    // Formatage du datepicker\n    $.datepicker.regional['fr'] = {\n        altField: \"#datepicker\",\n        closeText: 'Fermer',\n        prevText: '&#x3c;Préc',\n        nextText: 'Suiv&#x3e;',\n        currentText: 'Aujourd\\'hui',\n        monthNames: ['Janvier', 'Fevrier', 'Mars', 'Avril', 'Mai', 'Juin',\n            'Juillet', 'Aout', 'Septembre', 'Octobre', 'Novembre', 'Decembre'],\n        monthNamesShort: ['Jan', 'Fev', 'Mar', 'Avr', 'Mai', 'Jun',\n            'Jul', 'Aou', 'Sep', 'Oct', 'Nov', 'Dec'],\n        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],\n        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],\n        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],\n        weekHeader: 'Sm',\n        dateFormat: 'dd-mm-yy',\n        firstDay: 1,\n        isRTL: false,\n        showMonthAfterYear: false,\n        yearSuffix: '',\n        minDate: 0,\n        maxDate: '+12M +0D',\n        numberOfMonths: 2,\n        showButtonPanel: true\n    };\n    $.datepicker.setDefaults($.datepicker.regional['fr']);\n    //$('#datepicker').datepicker(\"setDate\", new Date());\n    $('#datepicker').datepicker({\n        format: 'yyyy-mm-dd'\n    });\n\n    $('#datepicker').datepicker().on('changeDate', function () {\n        $('#datepicker').datepicker('hide');\n\n    });\n\n\n\n//resuired a false pour element caché pour validation formulaire\ndocument.getElementById(\"add_observation_location_latitude\").required = false;\ndocument.getElementById(\"add_observation_location_longitude\").required = false;\n\nlet imgURL1,\n    img1,\n    imgURL2,\n    img2,\n    idPicture;\n\nlet div = document.getElementById(\"picBird\");\n\n    if ($('#add_observation_pictures_1').length) {\n        $('#add_observation_pictures_1 > div > label').text('Prendre une photo');\n        $('#add_observation_pictures_1_file').attr('capture', true);\n    }\n\n//Reset de l'upload des photos\n    $(\".close\").click(function () {\n    $('#closePic').attr('hidden', true);\n        $('#add_observation_pictures_0').val(\"\");\n        $('#add_observation_pictures_1').val(\"\");\n\n\n        removePicture();\n});\n\n    if ($('#getBird').attr('hidden') === 'hidden') {\n\n        document.getElementById(\"add_observation_bird\").required = false;\n\n    }\n    ;\n\n\n//On determine quel boutton est cliqué puis on selectionne le mode\n    $('[for=add_observation_pictures_0_file]').click(function () {\n        //On verifie quel bouton est cliqué\n        idPicture = 'add_observation_pictures_0';\n        console.log(idPicture)\n\n        selectPicture(idPicture);\n    });\n\n    $('[for=add_observation_pictures_1_file]').click(function () {\n        //On verifie quel bouton est cliqué\n        idPicture = 'add_observation_pictures_1';\n        console.log(idPicture)\n\n        selectPicture(idPicture);\n    });\n\n\n//Recupération de(s )l'image(s)\n    function selectPicture(idPicture) {\n\n        document.getElementById(idPicture).onchange = function (file) {\n            //On remove les photos existantes\n            removePicture();\n\n            //On insére les nouvelles photos\n            //Pour 2 photos choisies\n            if ((file.target.files[0]) && (file.target.files[1])) {\n\n                imgURL1 = URL.createObjectURL(file.target.files[0])\n                img1 = document.createElement('img');\n                img1.id = \"testImg1\";\n                img1.src = imgURL1;\n\n                imgURL2 = URL.createObjectURL(file.target.files[1])\n                img2 = document.createElement('img');\n                img2.id = \"testImg2\";\n                img2.src = imgURL2;\n\n                div.appendChild(img1)\n                div.appendChild(img2)\n\n            }\n            //Pour une photo choisie\n            else {\n                if (file.target.files[0]) {\n\n                    imgURL1 = URL.createObjectURL(file.target.files[0]);\n                    img1 = document.createElement('img');\n                    img1.id = \"testImg1\";\n                    // img1.className = \"img-thumbnail\";\n                    // img1.style.width = '200px';\n                    // img1.style.marginRight = '10px';\n                    img1.src = imgURL1;\n\n                    div.appendChild(img1)\n\n                }\n                else if (file.target.files[1]) {\n\n                    imgURL2 = URL.createObjectURL(file.target.files[1]);\n                    img2 = document.createElement('img');\n                    img2.id = \"testImg2\";\n                    // img2.className = \"img-thumbnail\";\n                    // img2.style.width = '200px';\n                    // img2.style.marginRight = '10px';\n                    img2.src = imgURL2;\n\n                    div.appendChild(img2)\n                }\n            }\n\n            $('#closePic').attr('hidden', false);\n        }\n    }\n\n    //Effacer les images\n    function removePicture() {\n        if (img1 && img2) {\n\n            img1.remove();\n            img2.remove();\n\n        }\n        else {\n            if (img1) {\n\n                img1.remove();\n\n            }\n            else if (img2) {\n                img2.remove();\n            }\n        }\n    }\n});"]}