{"version":3,"sources":["../../../../../../src/ObservationBundle/Resources/public/js/observation.js"],"names":["$","document","ready","select2","hide","datepicker","regional","altField","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","dateFormat","firstDay","isRTL","showMonthAfterYear","yearSuffix","minDate","maxDate","numberOfMonths","showButtonPanel","setDefaults","format","on","getElementById","required","idPicture","idPicturesOne","idPicturesTwo","imgURL1","img1","imgURL2","img2","div","click","attr","val","remove","onchange","file","console","log","target","files","URL","createObjectURL","createElement","id","src","appendChild"],"mappings":"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","file":"observation.js","sourcesContent":["$(document).ready(function () {\n\n    $('#add_observation_bird').select2().hide;\n    $('#add_observation_bird').hide();\n\n    // Formatage du datepicker\n    $.datepicker.regional['fr'] = {\n        altField: \"#datepicker\",\n        closeText: 'Fermer',\n        prevText: '&#x3c;Préc',\n        nextText: 'Suiv&#x3e;',\n        currentText: 'Aujourd\\'hui',\n        monthNames: ['Janvier', 'Fevrier', 'Mars', 'Avril', 'Mai', 'Juin',\n            'Juillet', 'Aout', 'Septembre', 'Octobre', 'Novembre', 'Decembre'],\n        monthNamesShort: ['Jan', 'Fev', 'Mar', 'Avr', 'Mai', 'Jun',\n            'Jul', 'Aou', 'Sep', 'Oct', 'Nov', 'Dec'],\n        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],\n        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],\n        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],\n        weekHeader: 'Sm',\n        dateFormat: 'dd-mm-yy',\n        firstDay: 1,\n        isRTL: false,\n        showMonthAfterYear: false,\n        yearSuffix: '',\n        minDate: 0,\n        maxDate: '+12M +0D',\n        numberOfMonths: 2,\n        showButtonPanel: true\n    };\n    $.datepicker.setDefaults($.datepicker.regional['fr']);\n    //$('#datepicker').datepicker(\"setDate\", new Date());\n    $('#datepicker').datepicker({\n        format: 'yyyy-mm-dd'\n    });\n\n    $('#datepicker').datepicker().on('changeDate', function () {\n        $('#datepicker').datepicker('hide');\n\n    });\n\n\n    //$('#datepicker').datepicker(\"setDate\", new Date());\n\n\n\ndocument.getElementById(\"add_observation_location_latitude\").required = false;\ndocument.getElementById(\"add_observation_location_longitude\").required = false;\n\nif (document.getElementById('getBird')) {\n    document.getElementById(\"add_observation_bird\").required = false;\n}\n    let idPicture,\n        idPicturesOne,\n        idPicturesTwo;\n\n\n\n//Formatage de l'upload de photo\nlet imgURL1,\n    img1,\n    imgURL2,\n    img2;\n\nlet div = document.getElementById(\"picBird\");\n\n\n//Reset de l'upload des photos\n$(\".close\").click(function () {\n    $('#closePic').attr('hidden', true);\n    $('#add_observation_pictures_first').val(\"\");\n    $('#add_observation_pictures_second').val(\"\");\n\n    if (img1 && img2) {\n\n        img1.remove();\n        img2.remove();\n\n    } else {\n        if (img1) {\n\n            img1.remove();\n\n        } else if (img2) {\n\n            img2.remove();\n        }\n    }\n});\n\n//Recupération de(s )l'image(s)\n    document.getElementById(\"add_observation_pictures_first\").onchange = function () {\n        idPicture = 'add_observation_pictures_first';\n    }\n\n    document.getElementById(\"add_observation_pictures_first\").onchange = function (file) {\n        console.log('test');\n        //On remove les photos existantes\n        if (img1 && img2) {\n\n            img1.remove();\n            img2.remove();\n\n        } else {\n            if (img1) {\n\n                img1.remove();\n\n            } else if (img2) {\n                img2.remove();\n            }\n        }\n\n        //On insére les nouvelles photos\n        if ((file.target.files[0]) && (file.target.files[1])) {\n\n            imgURL1 = URL.createObjectURL(file.target.files[0])\n            img1 = document.createElement('img');\n            img1.id = \"testImg1\";\n            // img1.className = \"img-thumbnail\";\n            // img1.style.width = '200px';\n            // img1.style.marginRight = '10px'\n            img1.src = imgURL1;\n\n            imgURL2 = URL.createObjectURL(file.target.files[1])\n            img2 = document.createElement('img');\n            img2.id = \"testImg2\";\n            // img2.className = \"img-thumbnail\";\n            // img2.style.width = '200px';\n            // img2.style.marginRight = '10px';\n            img2.src = imgURL2;\n\n            div.appendChild(img1)\n            div.appendChild(img2)\n\n        } else {\n\n            if (file.target.files[0]) {\n\n                imgURL1 = URL.createObjectURL(file.target.files[0]);\n                img1 = document.createElement('img');\n                img1.id = \"testImg1\";\n                // img1.className = \"img-thumbnail\";\n                // img1.style.width = '200px';\n                // img1.style.marginRight = '10px';\n                img1.src = imgURL1;\n\n                div.appendChild(img1)\n\n            } else if (file.target.files[1]) {\n\n                imgURL2 = URL.createObjectURL(file.target.files[1]);\n                img2 = document.createElement('img');\n                img2.id = \"testImg2\";\n                // img2.className = \"img-thumbnail\";\n                // img2.style.width = '200px';\n                // img2.style.marginRight = '10px';\n                img2.src = imgURL2;\n\n                div.appendChild(img2)\n            }\n        }\n\n        $('#closePic').attr('hidden', false);\n\n    }\n\n    document.getElementById(\"add_observation_pictures_second\").onchange = function (file) {\n        console.log('test');\n        //On remove les photos existantes\n        if (img1 && img2) {\n\n            img1.remove();\n            img2.remove();\n\n        } else {\n            if (img1) {\n\n                img1.remove();\n\n            } else if (img2) {\n                img2.remove();\n            }\n        }\n\n        //On insére les nouvelles photos\n        if ((file.target.files[0]) && (file.target.files[1])) {\n\n            imgURL1 = URL.createObjectURL(file.target.files[0])\n            img1 = document.createElement('img');\n            img1.id = \"testImg1\";\n            // img1.className = \"img-thumbnail\";\n            // img1.style.width = '200px';\n            // img1.style.marginRight = '10px'\n            img1.src = imgURL1;\n\n            imgURL2 = URL.createObjectURL(file.target.files[1])\n            img2 = document.createElement('img');\n            img2.id = \"testImg2\";\n            // img2.className = \"img-thumbnail\";\n            // img2.style.width = '200px';\n            // img2.style.marginRight = '10px';\n            img2.src = imgURL2;\n\n            div.appendChild(img1)\n            div.appendChild(img2)\n\n        } else {\n\n            if (file.target.files[0]) {\n\n                imgURL1 = URL.createObjectURL(file.target.files[0]);\n                img1 = document.createElement('img');\n                img1.id = \"testImg1\";\n                // img1.className = \"img-thumbnail\";\n                // img1.style.width = '200px';\n                // img1.style.marginRight = '10px';\n                img1.src = imgURL1;\n\n                div.appendChild(img1)\n\n            } else if (file.target.files[1]) {\n\n                imgURL2 = URL.createObjectURL(file.target.files[1]);\n                img2 = document.createElement('img');\n                img2.id = \"testImg2\";\n                // img2.className = \"img-thumbnail\";\n                // img2.style.width = '200px';\n                // img2.style.marginRight = '10px';\n                img2.src = imgURL2;\n\n                div.appendChild(img2)\n            }\n        }\n\n        $('#closePic').attr('hidden', false);\n\n    }\n});"]}