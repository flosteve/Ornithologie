{
  "version": 3,
  "sources": [
    "../../../../../../../../src/ObservationBundle/Resources/public/js/AJAX/Desktop/bird.list.js"
  ],
  "names": [
    "$",
    "document",
    "ready",
    "$birds",
    "$search",
    "$addBirds",
    "$colorBec",
    "$colorPlumage",
    "$colorPatte",
    "$typeBec",
    "page",
    "ajax",
    "url",
    "data",
    "dataType",
    "success",
    "code_html",
    "status",
    "getParameters",
    "searchParameter",
    "val",
    "becParameter",
    "patteParameter",
    "plumageParameter",
    "typeBecParameter",
    "parameters",
    "on",
    "event",
    "preventDefault",
    "prepareRequete",
    "replace",
    "empty",
    "isSearch",
    "removeAttr",
    "attr",
    "append",
    "numbers",
    "Number",
    "length",
    "remove",
    "window",
    "location"
  ],
  "mappings": "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",
  "file": "bird.list.js",
  "sourcesContent": [
    "// Requetes AJAX sur la pagination et recherche des oiseaux\n// Appeller dans la vue Bird/Desktop/list.html.twig\n$(document).ready(function () {\n    // Récuperation des differents elements\n    var $birds = $('#birds');\n    var $search = $('#search');\n    var $addBirds = $('#add-birds');\n    var $colorBec = $('#color-bec');\n    var $colorPlumage = $('#color-plumage');\n    var $colorPatte = $('#color-patte');\n    var $typeBec = $('#type-bec');\n    // Création de la variable page\n    var page = 1\n\n    // Première requete ajax lors du chargement de la page\n    $.ajax({\n        url: $birds.data('href'),\n        dataType: 'html',\n        success: function (code_html, status) {\n            success(code_html)\n        }\n    })\n    // Fonction qui gerer la liste des parametres GET passer aux requetes\n    function getParameters() {\n        var searchParameter = $search.val() === '' ? '' : 'search=' + $search.val() + '&';\n        var becParameter = $colorBec.val() === '' ? '' : 'bec=' + $colorBec.val() + '&';\n        var patteParameter = $colorPatte.val() === '' ? '' : 'patte=' + $colorPatte.val() + '&';\n        var plumageParameter = $colorPlumage.val() === '' ? '' : 'plumage=' + $colorPlumage.val() + '&';\n        var typeBecParameter = $typeBec.val() === '' ? '' : 'typeBec=' + $typeBec.val() + '&';\n        var parameters = '?' + searchParameter + becParameter + patteParameter + plumageParameter;\n        return parameters;\n    }\n\n    // Requte Ajax lors du click sur le bouton add\n    $addBirds.on('click', function (event) {\n        event.preventDefault();\n        prepareRequete(false);\n        var url = $addBirds.data('href').replace(\"1\", page) + getParameters() ;\n\n        $.ajax({\n            url: url + parameters,\n            dataType: 'html',\n            success: function (code_html, status) {\n                success(code_html)\n            }\n        })\n    })\n    // Requete ajax lors d'une recherche\n    $search.on('keyup', function (event) {\n        prepareRequete(true );\n        let url = $search.data('href') + getParameters();\n         $.ajax({\n            url: url,\n            dataType: 'html',\n            success: function (code_html, status) {\n                $birds.empty()\n                success(code_html)\n            }\n        })\n    })\n\n    // Event sur les select du filtre\n    $('select').on('change', function () {\n        prepareRequete(true);\n        let url = $birds.data('href') + getParameters();\n        $.ajax({\n            url: url,\n            dataType: 'html',\n            success: function (code_html, status) {\n                $birds.empty()\n                success(code_html)\n            }\n        })\n    })\n\n    // Fonction préparant la zone d'affichage\n    function prepareRequete(isSearch) {\n        // On affiche le loader\n        $('.loader').removeAttr('hidden');\n        // S'il s'agit d'une recherche on vide le contenue de contentBirds et on met page à 1\n        if(isSearch){\n            $birds.empty();\n            page =1\n        }\n    }\n\n    // Fonction utiliser lors du success d'une requete\n    function success(code_html){\n        // on cache le loader\n        $('.loader').attr('hidden', true)\n        // On inserre le resultat dans la zone contentBirds\n        $birds.append(code_html)\n        // On récuperer la taille du resultat\n        var numbers = Number($('.length').data('length'));\n        // On comparse celui-ci à 20 et aux nombres d'oiseaux affiché s'ils correspondent celà signifie qu'il n'y a pas d'autres pages\n        if(numbers <= 20 || numbers == $('.bird').length ){\n            // On cache donc le bouton add\n            $addBirds.attr('hidden', true);\n        }else{\n            // Sinon on l'affiche\n            $addBirds.removeAttr('hidden');\n        }\n        // On supprime le div comptenant la taille du resultat pour évité les doublons\n        $('.length').remove();\n\n        // On incrimente la page pour le prochain add\n        page++;\n    }\n\n    // listener sur les div des oiseaux pour généreer un ien au click\n    $(document).on('click', '.bird', function (event) {\n        window.document.location = $(this).data('href');\n    })\n\n})\n"
  ]
}