{
  "version": 3,
  "sources": [
    "../../../../../../../../src/ObservationBundle/Resources/public/js/AJAX/Desktop/bird.list.js"
  ],
  "names": [
    "$",
    "document",
    "ready",
    "page",
    "scrollHeight",
    "window",
    "scrollTop",
    "ajax",
    "url",
    "data",
    "dataType",
    "success",
    "code_html",
    "status",
    "on",
    "prepareRequete",
    "replace",
    "parameters",
    "val",
    "event",
    "empty",
    "isSearch",
    "removeAttr",
    "console",
    "log",
    "attr",
    "append",
    "numbers",
    "Number",
    "length",
    "remove",
    "location",
    "scroll",
    "height",
    "css"
  ],
  "mappings": "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",
  "file": "bird.list.js",
  "sourcesContent": [
    "// Requetes AJAX sur la pagination et recherche des oiseaux\n// Appeller dans la vue Bird/Desktop/list.html.twig\n$(document).ready(function () {\n    // Création de la variable page\n    var page = 1\n    // Variable contenant la hauteur du scroll\n    var scrollHeight = $(window).scrollTop();\n    // Première requete ajax lors du chargement de la page\n    $.ajax({\n        url: $('#birds').data('href'),\n        dataType: 'html',\n        success: function (code_html, status) {\n            success(code_html)\n        }\n    })\n\n    // Requte Ajax lors du click sur le bouton add\n    $('#add-birds').on('click', function () {\n        prepareRequete(false);\n        var url = $('#add-birds').data('href').replace(\"1\", page);\n        var parameters = $('#search').val() === '' ? '' : '?search=' + $('#search').val();\n        $.ajax({\n            url: url + parameters,\n            dataType: 'html',\n            success: function (code_html, status) {\n                success(code_html)\n            }\n        })\n    })\n    // Requete ajax lors d'une recherche\n    $('#search').on('keyup', function (event) {\n        prepareRequete(true);\n        var url = $(this).data('href') + '?search=' + $(this).val();\n         $.ajax({\n            url: url,\n            dataType: 'html',\n            success: function (code_html, status) {\n                $('#birds').empty()\n                success(code_html)\n            }\n        })\n    })\n\n    // Fonction préparant la zone d'affichage\n    function prepareRequete(isSearch) {\n        // On affiche le loader\n        $('.loader').removeAttr('hidden');\n        // S'il s'agit d'une recherche on vide le contenue de contentBirds et on met page à 1\n        if(isSearch){\n            console.log('coucou')\n            $('#birds').empty();\n            page =1\n        }\n        // On passe la hauteur du scroll à la variable scrollHeigth\n        scrollHeight = $(window).scrollTop();\n    }\n\n    // Fonction utiliser lors du success d'une requete\n    function success(code_html){\n        // On bloque la vue sur la hauteur du scroll\n        $(window).scrollTop(scrollHeight);\n        // on cache le loader\n        $('.loader').attr('hidden', true)\n        // On inserre le resultat dans la zone contentBirds\n        $('#birds').append(code_html)\n        // On récuperer la taille du resultat\n        var numbers = Number($('.length').data('length'));\n        // On comparse celui-ci à 20 et aux nombres d'oiseaux affiché s'ils correspondent celà signifie qu'il n'y a pas d'autres pages\n        if(numbers <= 20 || numbers == $('.bird').length ){\n            // On cache donc le bouton add\n            $('#add-birds').attr('hidden', true);\n        }else{\n            // Sinon on l'affiche\n            $('#add-birds').removeAttr('hidden');\n        }\n        // On supprime le div comptenant la taille du resultat pour évité les doublons\n        $('.length').remove();\n\n        // On incrimente la page pour le prochain add\n        page++;\n    }\n    // listener sur les div des oiseaux pour généreer un ien au click\n    $(document).on('click', '.bird', function (event) {\n        window.document.location = $(this).data('href');\n    })\n\n\n    $(window).scroll(function () {\n\n        // On vérifie si le document fait 2 fois la taille de l'ecran et si le haut du scroll est superieur à 2 fois la taille de l'écran\n        if(($(window).height() * 2) < $(document).height() && $(window).scrollTop() > ($(window).height() *2) ){\n            // Dans ce cas on affiche le bouton up\n            $('#up').css('display', 'inline');\n        }else {\n            // Sinon on le cache\n            $('#up').css('display', 'none');\n        }\n    })\n    $('#up-button').on('click', function(){\n        // Si on clique sur le bouton up, on reviens tout en haut du document\n        $(window).scrollTop(0);\n    })\n})\n"
  ]
}