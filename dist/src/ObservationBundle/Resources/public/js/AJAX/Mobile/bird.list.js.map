{
  "version": 3,
  "sources": [
    "../../../../../../../../src/ObservationBundle/Resources/public/js/AJAX/Mobile/bird.list.js"
  ],
  "names": [
    "$",
    "document",
    "ready",
    "page",
    "ajax",
    "url",
    "data",
    "dataType",
    "success",
    "code_html",
    "status",
    "window",
    "scroll",
    "scrollTop",
    "height",
    "css",
    "prepareRequete",
    "replace",
    "parameters",
    "val",
    "on",
    "event",
    "empty",
    "isSearch",
    "removeAttr",
    "attr",
    "append",
    "numbers",
    "Number",
    "length",
    "remove",
    "console",
    "log",
    "location"
  ],
  "mappings": "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",
  "file": "bird.list.js",
  "sourcesContent": [
    "$(document).ready(function () {\n    $(document).ready(function () {\n        // Création de la variable page\n        var page = 1\n        // Première requete ajax lors du chargement de la page\n        $.ajax({\n            url: $('#birds').data('href'),\n            dataType: 'html',\n            success: function (code_html, status) {\n                success(code_html)\n            }\n        })\n\n        //Génération d'un scroll infinie\n\n        // On crée une data pour évité de lancé une requete plusieur fois d'affilé\n        // Et une autre pour définir la fin de la page\n        $(window).data('ajaxready', true);\n        $(window).data('endPage', false);\n        // On mets une fonction au scroll\n        $(window).scroll(function () {\n            // Si le scroll est plus bas que la hauteur de l'écran, on affiche le bouton up\n\n            if($(window).scrollTop() >= $(window).height()){\n                $('#up').css('display', 'inline')\n\n            }else{\n                //sinon on le cache\n                $('#up').css('display', 'none')\n            }\n\n            // On vérife la valeur de ajaxready ou celle de endPAge\n            if($(window).data('ajaxready') == false || $(window).data('endPage') == true){\n                // Si elle est fausse, on quitte l'event\n                return;\n            }\n            // Sinon on vérife la position du scroll.\n            // si l'addition du scroll + la hauteur de l'a vue et unmarge de 150  est égale ou superieur à la longeur de la page, on va lancé une requete ajax\n            if(($(window).scrollTop() + $(window).height() +150 ) >= $(document).height()){\n                // On commence par passé à false aaxready\n                $(window).data('ajaxready', false);\n                // On prépare pour la requete\n                prepareRequete(false);\n                var url = $('#birds').data('href').replace('1', page);\n                var parameters =  $('#search').val() === '' ? '' : '?search=' + $('#search').val();\n                $.ajax({\n                    url: url + parameters,\n                    dataType: 'html',\n                    success: function (code_html, status) {\n                        success(code_html)\n                        // La requete étant finit, on passe ajaxready à true\n                        $(window).data('ajaxready', true)\n                    }\n                })\n            }\n        })\n\n        // Requete ajax lors d'une recherche\n        $('#search').on('keyup', function (event) {\n            prepareRequete(true)\n            var url = $(this).data('href') + '?search=' + $(this).val();\n            $.ajax({\n                url: url,\n                dataType: 'html',\n                success: function (code_html, status) {\n                    $('#birds').empty();\n                    success(code_html)\n                }\n            })\n        })\n\n\n\n        // Fonction préparant la zone d'affichage\n        function prepareRequete(isSearch) {\n            // On affiche le loader\n            $('loader').removeAttr('hidden');\n            // S'il s'agit d'une recherche on vide le contenue de contentBirds et on met page à 1\n            if (isSearch) {\n                $('#birds').empty();\n                page = 1\n            }\n        }\n\n        // Fonction utiliser lors du success d'une requete\n        function success(code_html) {\n            // on cache le loader\n            $('.loader').attr('hidden', true)\n            // On inserre le resultat dans la zone contentBirds\n            $('#birds').append(code_html)\n            // On récuperer la taille du resultat\n            var numbers = Number($('.length').data('length'));\n            // On comparse celui-ci à 20 et aux nombres d'oiseaux affiché s'ils correspondent celà signifie qu'il n'y a pas d'autres pages\n            if (numbers <= 20 || numbers == $('.bird').length) {\n                // On passe endPage à true\n                $(window).data('endPage', true);\n            } else {\n                // Sinon on l'affiche\n                $(window).data('endPage', false)\n            }\n            // On supprime le div comptenant la taille du resultat pour évité les doublons\n            $('.length').remove();\n\n            // On incrimente la page pour le prochain add\n            page++;\n            console.log(page);\n        }\n\n        // Event sur le bouton up-button qui remets le scroll en  haut de page\n        $(\"#up-button\").on('click', function(event){\n            $(window).scrollTop(0);\n        })\n//                 listener sur les div des oiseaux pour généreer un ien au click\n        $(document).on('click', '.bird', function (event) {\n            console.log($(this))\n            window.document.location = $(this).data('href');\n        })\n    })\n})"
  ]
}